<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="utf-8" />
    <link
      rel="icon"
      href="https://www.pca.com.br/site/Content/image/favicon.ico"
    />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta
      name="description"
      content="FlexGateway, uma plataforma de pagamentos com escolha de gateways desenvolvido pela PCA"
    />
    <title>Demonstração PCA FlexGateway Core</title>

    <!--STYLES-->
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,600;1,300;1,400;1,600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./assets/css/header.css" />
    <link rel="stylesheet" href="./assets/css/footer.css" />
    <link rel="stylesheet" href="./assets/css/load.css" />
    <link rel="stylesheet" href="./assets/css/main.css" />
    <link rel="stylesheet" href="./assets/css/panel.css" />
    <link rel="stylesheet" href="./assets/css/form.css" />
    <link rel="stylesheet" href="./assets/css/order.css" />
    <link rel="stylesheet" href="./assets/css/icons.css" />
    <link rel="stylesheet" href="./assets/css/log.css" />
    <link rel="stylesheet" href="./assets/css/tooltip.css" />
  </head>

  <body>
    <div class="page-container">
      <div class="header">
        <img
          src="./assets/images/logo-pca.png"
          alt="Logo PCA"
          class="logo-pca"
        />
        <div class="text">
          <div class="text-1">Demonstração</div>
          <div class="text-2">FlexGateway</div>
        </div>
      </div>

      <main class="content-container">
        <!-- Step 1 - Apresentação e escolha de modelo -->
        <section id="panel-step-1" class="panel-container">
          <div class="panel panel-primary no-bottom-padding">
            <h1 class="panel-title">Apresentação</h1>
            <div class="panel-body">
              <p>
                Esta é um aplicação de demonstração do
                <strong>FlexGateway</strong>, plataforma de pagamentos com
                escolha de gateways desenvolvido pela PCA para tornar
                <strong>mais eficiente</strong> e
                <strong>reduzir os riscos</strong> das transações de pagamento
                eletrônicas do seu negócio.
                <strong>São 2 modelos de implementação:</strong>
              </p>

              <div class="row mx-md-auto row-cols-md-2 g-2 g-md-3">
                <div class="col-md">
                  <div class="panel-card">
                    <h3><strong class="blue-text">Full</strong> checkout</h3>

                    <p>
                      Utilize um <strong>design</strong> responsivo e já
                      <strong>pronto</strong> para efetuar seus pagamentos
                      independente se via desktop ou mobile.
                    </p>

                    <br />
                    <p>
                      Implemente rapidamente sua tela de checkout de pagamento
                      com nossa <strong>solução completa</strong>.
                    </p>
                    <button
                      class="button-primary w-100"
                      onclick="goToSecondStepFull()"
                    >
                      Iniciar
                    </button>
                  </div>
                </div>
                <div class="col-md">
                  <div class="panel-card">
                    <h3><strong class="blue-text">Core</strong> checkout</h3>

                    <p>
                      Para você que deseja
                      <strong>manter sua identidade visual</strong> e utilizar
                      nossa tecnologia para incorporar o checkout de pagamento
                      ao seu projeto.
                    </p>

                    <br />
                    <p>
                      Toda a experiência do usuário fica sob a responsabilidade
                      de <strong>sua equipe de UX</strong>.
                    </p>
                    <button
                      class="button-primary w-100"
                      onclick="goToSecondStepCustomizable()"
                    >
                      Iniciar
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Step 2 - Customizavel (Core checkout) -->
        <section id="panel-step-2-customizable" class="panel-container" hidden>
          <div class="panel panel-primary">
            <h1 class="panel-title">Dados para Cobrança</h1>
            <div class="panel-body">
              <div class="row">
                <div class="col-md-8">
                  <div style="display: flex; gap: 5px">
                    <p>Preencha os dados para cobrança.</p>
                    <div
                      class="info-icon"
                      role="button"
                      onclick="openCardOptions()"
                      title="Clique para ver exemplos de cartão de crédito para testes"
                    ></div>
                  </div>

                  <form class="form-cartao" novalidate name="formCheckout">
                    <div class="row">
                      <div class="col-md-9 order-first input-wrap">
                        <label class="card-icon">
                          <input
                            class="input-primary"
                            placeholder="NÚMERO DO CARTÃO DE CRÉDITO"
                            name="cardNumber"
                          />
                        </label>
                      </div>
                      <div class="col-md-9 order-1 order-md-2 input-wrap">
                        <div id="flags-container"></div>
                        <input type="hidden" name="cardFlag" />
                      </div>
                      <div class="col-md-3 order-2 order-md-1 input-wrap">
                        <label class="calendar-icon">
                          <input
                            class="input-primary"
                            placeholder="MÊS / ANO"
                            name="monthYear"
                          />
                        </label>
                      </div>
                      <div class="col-md-9 order-3 input-wrap">
                        <label class="user-icon">
                          <input
                            class="input-primary"
                            placeholder="NOME DO TÍTULAR"
                            name="holderName"
                          />
                        </label>
                      </div>
                      <div class="col-md-3 order-4 input-wrap">
                        <label class="cvv-icon">
                          <input
                            class="input-primary"
                            placeholder="CVV"
                            name="cvv"
                          />
                        </label>
                      </div>
                      <div class="col-md-9 order-5 input-wrap">
                        <label class="user-icon">
                          <input
                            class="input-primary"
                            placeholder="CPF"
                            name="holderDocument"
                          />
                        </label>
                      </div>
                    </div>
                  </form>
                </div>
                <div class="col-md-4">
                  <p>Dados do Pedido</p>
                  <div class="order-container">
                    <div class="order-label">Descrição:</div>
                    <div class="order-text" id="order-description">
                      Mensalidade do pacote de serviços da PCA
                    </div>
                    <br />
                    <div class="order-label">Total:</div>
                    <div class="order-value" id="order-amount">R$ 59,90</div>
                  </div>
                </div>
              </div>
            </div>
            <div class="panel-footer">
              <div class="row g-sm-2 g-2">
                <div class="col-md-6 text-md-start">
                  <button
                    class="button-secondary w-100"
                    onclick="goToFirstStep()"
                  >
                    Voltar
                  </button>
                </div>
                <div class="col-md-6 text-md-end">
                  <button
                    class="button-primary w-100"
                    onclick="checkoutAngGoToLastStep()"
                  >
                    Confirmar
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div class="text-end">
            <label class="history-icon icon-button mt-4 mb-2 text-end">
              <button
                type="button"
                class="button-default-icon"
                onclick="showLogs()"
              >
                Logs da Transação
              </button>
            </label>
            <label class="settings-icon icon-button mt-4 mb-2 text-end">
              <button
                type="button"
                class="button-default-icon"
                onclick="showSettings()"
              >
                Configuração
              </button>
            </label>
          </div>
        </section>

        <!-- Step 2 Completo (Full Checkout) -->
        <section id="panel-step-2-full" class="panel-container" hidden>
          <div class="panel panel-primary">
            <h1 class="panel-title">Full Checkout</h1>
            <div class="panel-body">
              <p>
                Simplifique a sua implementação com nossa
                <strong>solução completa</strong> de pagamentos com cartão de
                crédito. Elimine a necessidade de desenvolver o design do
                checkout, aproveitando <strong>nosso design pronto</strong> para
                uso.
              </p>

              <p>
                Para iniciar a demonstração,
                <strong>preencha os campos</strong> abaixo com a
                <strong>descrição</strong> e <strong>valor</strong> do produto
                ou serviço que você comercializa. Simule o processo e veja como
                nossa solução se adapta às suas necessidades.
              </p>

              <form name="formSettingsFull" novalidate>
                <div class="row">
                  <div class="col-md-6 input-wrap">
                    <input
                      aria-label="Valor a ser cobrado"
                      class="input-secondary"
                      style="font-size: 16px;"
                      placeholder="Valor a ser cobrado"
                      name="amount"
                      value="59.9"
                    />
                  </div>

                  <div class="col-md-6 input-wrap">
                    <textarea
                      class="input-secondary"
                      style="font-size: 16px;"
                      name="description"
                      value="Mensalidade do pacote de serviços da PCA."
                      aria-label="Descrição"
                      rows="4"
                    >
Mensalidade do pacote de serviços da PCA.
                    </textarea>

                    <input
                      type="radio"
                      name="action"
                      value="Tokenize"
                      id="action-tokenize"
                      hidden
                    />
                    <input
                      type="radio"
                      name="action"
                      id="action-capture"
                      value="Capture"
                      hidden
                      checked
                    />
                  </div>

                  <div class="col-md-6 input-wrap">
                    <input
                      class="input-secondary"
                      placeholder="API Key"
                      name="apiKey"
                      hidden
                      value="1CDFC221-F9BA-4D68-AE0D-DC491B46CCAC"
                    />
                    <input
                      class="input-secondary"
                      placeholder="Código transação"
                      name="transactionCode"
                      value="CODIGO-TRANSACAO-1"
                      hidden
                    />
                  </div>
                  <div class="col-md-6 input-wrap">
                    <input
                      aria-label="Código do cliente"
                      class="input-secondary"
                      placeholder="Código do cliente"
                      name="customerCode"
                      value="CODIGO-CLIENTE-1"
                      hidden
                    />
                  </div>
                </div>
              </form>
            </div>
            <div class="panel-footer">
              <div class="row g-sm-2 g-2">
                <div class="col-md-6 text-md-start">
                  <button
                    class="button-secondary w-100"
                    onclick="goToFirstStep()"
                  >
                    Voltar
                  </button>
                </div>
                <div class="col-md-6 text-md-end">
                  <button class="button-primary w-100" onclick="showCheckout()">
                    Abrir tela de checkout
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div class="text-end">
            <label class="history-icon icon-button mt-4 mb-2 text-end">
              <button
                type="button"
                class="button-default-icon"
                onclick="showLogs()"
              >
                Logs da Transação
              </button>
            </label>
          </div>
        </section>

        <!-- Step 3 - Success screen -->
        <section id="panel-step-3" class="panel-container" hidden>
          <div class="panel panel-primary">
            <div class="panel-title">Cobrança</div>
            <div class="panel-body">
              <p>Cobrança realizada com <strong>sucesso!</strong></p>
              <br />
              <p>Confira o log do processo de cobrança.</p>
              <br />
            </div>
            <div class="panel-footer">
              <div class="col-md-6 text-md-start">
                <button
                  class="button-secondary w-100"
                  onclick="goToFirstStep()"
                >
                  Fechar
                </button>
              </div>
            </div>
          </div>
          <div class="text-end">
            <label class="history-icon icon-button mt-4 mb-2 text-end">
              <button
                type="button"
                class="button-default-icon"
                onclick="showLogs()"
              >
                Logs da Transação
              </button>
            </label>
          </div>
        </section>
      </main>

      <footer>
        @ 2023 PCA Engenharia de Software Ltda. - All Rights Reserved - Version
        1.0.0
      </footer>
    </div>

    <!-- Modal parametros configurações Core checkout -->
    <div
      id="panel-settings"
      class="backdrop"
      hidden
      role="dialog"
      aria-modal="true"
    >
      <div class="backdrop-content">
        <div class="panel-container">
          <div class="panel panel-default">
            <h1 class="panel-title">Parâmetros FlexGateway</h1>
            <div class="panel-body">
              <form name="formSettings" novalidate>
                <div class="row">
                  <div class="col-md-6 input-wrap">
                    <input
                      aria-label="Valor a ser cobrado"
                      class="input-secondary"
                      placeholder="Valor a ser cobrado"
                      name="amount"
                      value="59.9"
                    />
                  </div>
                  <div class="col-md-6 input-wrap">
                    <textarea
                      class="input-secondary"
                      name="description"
                      value="Mensalidade do pacote de serviços da PCA."
                      aria-label="Descrição"
                    >
Mensalidade do pacote de serviços da PCA.
                                </textarea
                    >
                  </div>
                  <div class="col-md-6 input-wrap">
                    <!-- <select name="cartaoOptions" onchange="selectOptionCartao('formSettings')" class="input-secondary">
                                        <option value="">Selecione cartão de exemplo</option>
                                        <option value="1111">Func 1</option>
                                        <option value="2222">Func 2</option>
                                        <option value="3333">Func 3</option>
                                        <option value="4444">Func 4</option>
                                        <option value="4000000000000010">Func 5</option>

                                    </select> -->
                    <input
                      class="input-secondary"
                      placeholder="API Key"
                      name="apiKey"
                      value="1CDFC221-F9BA-4D68-AE0D-DC491B46CCAC"
                      hidden
                    />
                    <input
                      class="input-secondary"
                      placeholder="Código transação"
                      name="transactionCode"
                      value="CODIGO-TRANSACAO-1"
                      hidden
                    />
                  </div>

                  <div class="col-md-6 input-wrap"></div>
                  <div class="col-md-6 input-wrap">
                    <input
                      aria-label="Código do cliente"
                      class="input-secondary"
                      placeholder="Código do cliente"
                      name="customerCode"
                      value="CODIGO-CLIENTE-1"
                      hidden
                    />
                    <input
                      type="radio"
                      name="action"
                      value="Tokenize"
                      id="action-tokenize"
                      hidden
                    />
                    <input
                      type="radio"
                      name="action"
                      id="action-capture"
                      value="Capture"
                      checked
                      hidden
                    />
                  </div>
                </div>
              </form>
            </div>
            <div class="panel-footer">
              <div class="row">
                <div class="col-md-6 offset-md-6 p-1 text-end">
                  <button
                    type="button"
                    class="button-default w-100"
                    onclick="confirmSettings()"
                  >
                    Confirmar
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal parametros configurações Core checkout -->
    <div
      id="panel-credit-cards"
      class="backdrop-full-checkout"
      hidden
      role="dialog"
      aria-modal="true"
    >
      <div class="backdrop-content">
        <div class="panel-container">
          <div class="panel panel-default">
            <h1 class="panel-title">Cartões de crédito para testes</h1>

            <div class="panel-body">
              <p>
                Por se tratar de uma aplicação de demonstração, utilizamos
                alguns números de cartões de crédito para possibilitar testes
                junto aos gateways de pagtamento.
              </p>
              <p>
                Para facilitar, copie abaixo e cole no campo correspondente na
                tela de checkout.
              </p>
              <hr />
              <div class="container">
                <div class="row">
                  <div class="col-md-7 pb-3">
                    <p>
                      <strong>Bandeira Visa,</strong> com resultado de
                      <strong class="green-text">sucesso</strong> na
                      <strong>Pagar.me</strong>.
                    </p>
                  </div>
                  <div class="col-md-5 pb-3">
                    <div style="display: flex; gap: 10px; align-items: center">
                      <input
                        class="input-secondary"
                        name="cardNumber"
                        disabled
                        value="4000 0000 0000 0010"
                        id="creditCardExample1"
                      />
                      <div
                        class="copy-icon"
                        role="button"
                        onclick="copyTextToClipboard('creditCardExample1')"
                      ></div>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-7 pb-3">
                    <p>
                      <strong>Bandeira Visa,</strong> com resultado de
                      <strong class="red-text">falha</strong> na
                      <strong>Pagar.me</strong>.
                    </p>
                  </div>
                  <div class="col-md-5 pb-3">
                    <div style="display: flex; gap: 10px; align-items: center">
                      <input
                        class="input-secondary"
                        name="cardNumber"
                        disabled
                        value="4000 0000 0000 0028"
                        id="creditCardExample2"
                      />
                      <div
                        class="copy-icon"
                        role="button"
                        onclick="copyTextToClipboard('creditCardExample2')"
                      ></div>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-7 pb-3">
                    <p>
                      <strong>Bandeira MasterCard,</strong> com resultado de
                      <strong class="green-text">sucesso</strong> na
                      <strong>PagSeguro</strong>.
                    </p>
                  </div>
                  <div class="col-md-5 pb-3">
                    <div style="display: flex; gap: 10px; align-items: center">
                      <input
                        class="input-secondary"
                        name="cardNumber"
                        disabled
                        value="5240 0829 7562 2454"
                        id="creditCardExample3"
                      />
                      <div
                        class="copy-icon"
                        role="button"
                        onclick="copyTextToClipboard('creditCardExample3')"
                      ></div>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-7 pb-3">
                    <p>
                      <strong>Bandeira MasterCard,</strong> com resultado de
                      <strong class="red-text">falha</strong> na
                      <strong>PagSeguro</strong>.
                    </p>
                  </div>
                  <div class="col-md-5 pb-3">
                    <div style="display: flex; gap: 10px; align-items: center">
                      <input
                        class="input-secondary"
                        name="cardNumber"
                        disabled
                        value="5530 0626 4066 3264"
                        id="creditCardExample4"
                      />
                      <div
                        class="copy-icon"
                        role="button"
                        onclick="copyTextToClipboard('creditCardExample4')"
                      ></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="panel-footer">
              <div class="row">
                <div class="col-md-6 offset-md-6 p-1 text-end">
                  <button
                    type="button"
                    class="button-default w-100"
                    onclick="hideCardOptions()"
                  >
                    Fechar
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="alert alert-success" id="copy-alert" role="alert">
          <strong>Sucesso!</strong> Número copiado para a área de transferência.
        </div>
      </div>
    </div>

    <!-- Modal checkout full -->
    <div
      id="panel-checkout"
      class="backdrop"
      hidden
      role="dialog"
      aria-modal="true"
    >
      <div class="backdrop-content">
        <div class="panel-container">
          <div class="panel panel-default">
            <div style="display: flex; gap: 5px; align-items: flex-end">
              <h3 class="panel-title-full">Checkout</h3>
              <div
                class="info-icon-full-checkout"
                role="button"
                onclick="openCardOptions()"
                title="Clique para ver exemplos de cartão de crédito para testes"
              ></div>
            </div>
            <div class="panel-body">
              <div
                id="pca-flexgateway-app"
                data-api-key="1CDFC221-F9BA-4D68-AE0D-DC491B46CCAC"
                data-additional-info='{ "ammount": 59.9, "description": "Assinatura PCA", "transactionCode": "CODIGO-TRANSACAO-1", "customerCode": "CODIGO-CLIENTE-1", "action": "Capture" }'
              ></div>
            </div>
            <div class="panel-footer">
              <div class="row">
                <div class="col-md-6 offset-md-6 p-1 text-end">
                  <button
                    type="button"
                    class="button-default grey-button w-100"
                    onclick="hideCheckout()"
                  >
                    Fechar
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal logs -->
    <div
      id="panel-logs"
      class="backdrop"
      hidden
      role="dialog"
      aria-modal="true"
    >
      <div class="backdrop-content">
        <div class="panel-container">
          <div class="panel panel-default">
            <h1 class="panel-title">Logs da Transação</h1>
            <div class="panel-body">
              <div id="logs-container-desktop"></div>
              <div id="logs-container-mobile"></div>
            </div>
            <div class="panel-footer">
              <div class="row">
                <div class="col-md-6 offset-md-6 p-1 text-end">
                  <button
                    type="button"
                    class="button-default w-100"
                    onclick="hideLogs()"
                  >
                    Voltar
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="backdrop-loading" class="backdrop" hidden>
      <div class="loading"></div>
    </div>

    <!--SCRIPTS-->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>
    <script src="https://unpkg.com/imask"></script>
    <script
      defer="defer"
      src="https://democdn.flexgateway.com.br/pca-flexgateway-core.js"
    ></script>
    <script
      defer="defer"
      src="https://democdn.flexgateway.com.br/pca-flexgateway.js"
    ></script>
    <script defer="defer" src="./assets/js/fullDemo.js"></script>
    <script defer="defer" src="./assets/js/main.js"></script>
    <script defer="defer" src="./assets/js/panel.js"></script>
    <script defer="defer" src="./assets/js/masks.js"></script>
    <script defer="defer" src="./assets/js/log.js"></script>
  </body>
</html>
